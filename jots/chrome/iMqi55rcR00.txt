{"text":"[{\"pos\":11158,\"text\":\"We want the page to load quickly. Somewhere along the process things start to get slower, and they don't realize it right away and then all of a sudden \\\"my app is slow\\\". \"},{\"pos\":77419,\"text\":\"We will tell you about tools, techniques, approaches and workflows on making measurable improvements in performance. \"},{\"pos\":100435,\"text\":\"/n/<span class=\\\"t\\\">Performance is the art of avoiding work.. and making any work you do as efficient as possible</span>\"},{\"pos\":124327,\"text\":\"I will touch on the effective workflow for diagnosing and improving performance. \"},{\"pos\":131366,\"text\":\"/n/<span class=\\\"t\\\">The basic performance workflow</span>\"},{\"pos\":159116,\"text\":\"Measure with a profile\"},{\"pos\":177866,\"text\":\"/n/Interpret costs\"},{\"pos\":183657,\"text\":\"/n/Identify the bottleneck\"},{\"pos\":190866,\"text\":\"/n/Try a fix\"},{\"pos\":222615,\"text\":\"/n/Back to measure and repeat\"},{\"pos\":272116,\"text\":\"/n/<span class=\\\"t\\\">Perf Case Studies</span>\"},{\"pos\":279366,\"text\":\"Android auto website\"},{\"pos\":298116,\"text\":\"/n/Let us look at the timeline\"},{\"pos\":351866,\"text\":\"The header is painting in right away.\"},{\"pos\":373116,\"text\":\"Frames per second, see what took a while to paint. \"},{\"pos\":400116,\"text\":\"3 seconds of spinning. \"},{\"pos\":416866,\"text\":\"The car image is about 2MB. \"},{\"pos\":430866,\"text\":\"/n//n/What to do next? \"},{\"pos\":437117,\"text\":\"/n/Click on the checkbox called network. \"},{\"pos\":448366,\"text\":\"We have the same the exact network waterfall we see in the network payload but now integrated into this view.\"},{\"pos\":456726,\"text\":\"/n/The colors match the rest of the plan chart. \"},{\"pos\":466072,\"text\":\"But we can begin to coordinate what is happening on the network side of things and the actual execution of what is happening on the main thread. \"},{\"pos\":471510,\"text\":\"/n//n/Let us find that image load. \"},{\"pos\":486535,\"text\":\"It is a 1MB image. \"},{\"pos\":492535,\"text\":\"We have 2 seconds of nothing. \"},{\"pos\":501784,\"text\":\"/n//n/Let us see the last thing to load. \"},{\"pos\":532785,\"text\":\"We are a bit confused why this happens.\"},{\"pos\":557603,\"text\":\"Let us look at the image. \"},{\"pos\":571603,\"text\":\"See the data-breakpoints? \"},{\"pos\":622853,\"text\":\"/n//n/Now what do I do? \"},{\"pos\":628852,\"text\":\"/n/CMD + SHIFT + P\"},{\"pos\":639103,\"text\":\"/n/Type search\"},{\"pos\":653361,\"text\":\"/n/Search across all files for js-header-animate-image\"},{\"pos\":660344,\"text\":\"/n/Code is minified. Let us pretty print that. \"},{\"pos\":683844,\"text\":\"/n/function loadContent\"},{\"pos\":731148,\"text\":\"/n/We set interval every 1000ms and we check if the class has loaded. \"},{\"pos\":777670,\"text\":\"We are adding a delay for 1 second.\"},{\"pos\":821920,\"text\":\"So there are some opportunities where we can improve this.\"},{\"pos\":848255,\"text\":\"/n/I want to take a look at the interaction stuff. \"},{\"pos\":855205,\"text\":\"I come back to the timeline. \"},{\"pos\":861957,\"text\":\"I look at the interactions once I start using the page. \"},{\"pos\":874955,\"text\":\"I will capture a new recording. \"},{\"pos\":882705,\"text\":\"I will scroll, fling, sign up. And stop the recording. \"},{\"pos\":908205,\"text\":\"We have identified what interactions are happening. \"},{\"pos\":924266,\"text\":\"We can magnify and see the response. \"},{\"pos\":950695,\"text\":\"/n/The browser is handling the gesture under the hood to handle this input. \"},{\"pos\":957096,\"text\":\"/n/<span class=\\\"t\\\">What is that red line?</span>\"},{\"pos\":964216,\"text\":\"Time waiting for main thread. \"},{\"pos\":968347,\"text\":\"The browser receives the Tap. \"},{\"pos\":973387,\"text\":\"And browser needs a second - to evaluate on the main thread and run event handlers. \"},{\"pos\":1009346,\"text\":\"/n//n/The other nice thing here - I hit that sign up form - if I bring back network we can also see a little bit of what is happening. \"},{\"pos\":1027119,\"text\":\"/n/Here we can see it on the mini-map. \"},{\"pos\":1031988,\"text\":\"The blue bar is the mini view of the network which we can open up to see the details of all that. \"},{\"pos\":1039638,\"text\":\"It is nice to get the interaction between the main thread, network activity and back in a single view. \"},{\"pos\":1056493,\"text\":\"/n/<span class=\\\"t\\\">Case study: modern-web.org</span>\"},{\"pos\":1096970,\"text\":\"Let us reload this page and look at the timeline. \"},{\"pos\":1118914,\"text\":\"This is on my laptop with good wifi. \"},{\"pos\":1125940,\"text\":\"It took over 10s to load, for all stuff to finish. \"},{\"pos\":1143068,\"text\":\"I see this crazy amount of yellow. \"},{\"pos\":1161568,\"text\":\"The colors are by file. \"},{\"pos\":1189318,\"text\":\"/n//n/We want to get an aggregate view. \"},{\"pos\":1196818,\"text\":\"Click on Bottom-Up. \"},{\"pos\":1205318,\"text\":\"This is a summary of all the costs.\"},{\"pos\":1238307,\"text\":\"So this tells me that we are executing a lot of JavaScript.\"},{\"pos\":1260660,\"text\":\"This is a bit higher level than diving in. \"},{\"pos\":1268159,\"text\":\"Switch dropdown back to group by domain. \"},{\"pos\":1281159,\"text\":\"We have this ytimg. \"},{\"pos\":1288659,\"text\":\"We spend 2 seconds for addthis code. \"},{\"pos\":1313410,\"text\":\"There is a share button you can get behind the click on the audio player. \"},{\"pos\":1346560,\"text\":\"/n//n/What if we disable the podcast stuff and see what it looks like? \"},{\"pos\":1359191,\"text\":\"Let us try that. \"},{\"pos\":1362281,\"text\":\"/n/There is an experimental feature called request blocking where we can just say - block these requests from going out completely. \"},{\"pos\":1373243,\"text\":\"Go to Network. \"},{\"pos\":1380993,\"text\":\"Right click - click on Block Request Domain. \"},{\"pos\":1411740,\"text\":\"/n//n/This is a responsive site - on the phone it will take longer.&nbsp;\"},{\"pos\":1425741,\"text\":\"There is a new feature called CPU throttline. \"},{\"pos\":1429333,\"text\":\"We can slow down everything from JavaScript to layout takes to evaluate inside the page - to sort of emulate on what it would be like on a phone. \"},{\"pos\":1472700,\"text\":\"We dropped down to 7 seconds now. \"},{\"pos\":1486896,\"text\":\"/n//n/We are still paying the YouTube cost. \"},{\"pos\":1500399,\"text\":\"It is all iframe embeds. \"},{\"pos\":1536147,\"text\":\"We can loop over video objects and load them lazily. \"},{\"pos\":1602139,\"text\":\"/n//i/Before and after image/\"},{\"pos\":1627390,\"text\":\"/n/We are doing less work. \"},{\"pos\":1660640,\"text\":\"We are down to about 4 seconds. \"},{\"pos\":1667889,\"text\":\"/n/<span class=\\\"t\\\">Performance everywhere</span>\"},{\"pos\":1676889,\"text\":\"Let us discuss performance on the server side. \"},{\"pos\":1764389,\"text\":\"/n/<span class=\\\"t\\\">Case study: eslint</span>\"},{\"pos\":1823889,\"text\":\"Let us measure with a profiler to see what is going on. \"},{\"pos\":1847964,\"text\":\"/n/What we have here is the modern chrome dev tools inside of chrome and we are talking directly to nodejs. \"},{\"pos\":1864713,\"text\":\"There are no elements tab. \"},{\"pos\":1873713,\"text\":\"We go to the profiles tab. \"},{\"pos\":1884172,\"text\":\"Let us run the program. \"},{\"pos\":1892673,\"text\":\"Use CMD + E to start and stop these \"},{\"pos\":1908672,\"text\":\"We see a blame chart. \"},{\"pos\":1987172,\"text\":\"/n/We clicked from profile and go to source. \"},{\"pos\":2005833,\"text\":\"The colors are line level annotations of all the performance work. \"},{\"pos\":2014808,\"text\":\"Chrome shows perf info not just per function, but even per line - showing where in the function I am doing CPU work. \"},{\"pos\":2093386,\"text\":\"So it looks like all the work is happening in the GlobSync. \"},{\"pos\":2116885,\"text\":\"Zooming out, we see that is starts in the listFilesToProcess function. \"},{\"pos\":2146668,\"text\":\"/n//i/Explanation figure/\"},{\"pos\":2186667,\"text\":\"/n/How to improve it? \"},{\"pos\":2210668,\"text\":\"/n/We call eslint with eslint ignore - it constructs this filter object - passes it to glob.sync and we get 30 files. \"},{\"pos\":2240183,\"text\":\"Let us try it out and measure it. \"},{\"pos\":2252180,\"text\":\"Lets rerun our profile. \"},{\"pos\":2358930,\"text\":\"/n/<span class=\\\"t\\\">In Review</span>\"},{\"pos\":2391680,\"text\":\"Let us know what you think. \"}]","css":".t{font-weight:bold;}.t:before{content:\"\\A\";white-space: pre;}.t:after{content:\"\\A\";white-space: pre;}","videoid":"iMqi55rcR00","title":"Web Performance Tooling  - Google I/O 2016","duration":2424.741,"category":"Google Chrome Developers","pageName":"web_performance_tooling.html"}