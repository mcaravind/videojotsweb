<!DOCTYPE html>
<html lang="en">
<head><title>Brian Carter: Lifecycle of Web Text Mining: Scrape to Sense</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/ui-lightness/jquery-ui.css"/>
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../js/jquery-ui.js"></script>
    <script src="../js/player.js"></script>
    <script>if (document.location.hostname.search('videojots.com') !== -1) {
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-78294929-1', 'auto');
        ga('send', 'pageview');
    }</script>
    <style>#segrip {
        width: 10px;
        height: 10px;
        background-color: #ffffff;
        border: 1px solid #000000;
        bottom: -5px;
        right: -5px;
    }</style>
</head>
<body>
<div style="margin: 0 auto;width:70%">
    <div id="videoid" style="visibility: hidden">ikxm_kFL9MA</div>
    <br/>
    <ol class="breadcrumb">
        <li><a href="../">Home</a></li>
        <li><a href="./" class="category">Data Science PyData</a></li>
        <li class="active">Brian Carter: Lifecycle of Web Text Mining: Scrape to Sense</li>
    </ol>
    <div style=""><span class="videojots"><br/><span class="label label-danger">Click on text below to jump to the corresponding location in the video (except iOS)</span><br/><div
            id="control"><div id="playerBox"><div class="ui-resizable-handle ui-resizable-se" id="segrip"></div><div
            id="videoPlayer"></div></div><div class="Data Science PyData" id="adikxm_kFL9MA"></div></div><br/><br/><style
            scoped>.clickable {
        cursor: pointer;
        cursor: hand;
    }

    .clickable:hover {
        background: yellow;
    }

    .t {
        font-weight: bold;
    }

    .t:before {
        content: "\A";
        white-space: pre;
    }

    .t:after {
        content: "\A";
        white-space: pre;
    }</style><div class="resizable"><br/><span class="clickable" id="13.932">My name is Brian Carter and I work as a data scientist in IBM. </span><span
            class="clickable" id="21.728">All IPython notebooks are up on my GitHub account. </span><span
            class="clickable" id="33.961">Previously I worked for the Irish Police Force. This presentation is an offshoot of a project I worked on there. </span><span
            class="clickable" id="53.35">The web scrape focuses on pillreports.net. </span><span class="clickable"
                                                                                                 id="83.358">It is an online database of reviews of Ecstasy pills. </span><span
            class="clickable" id="115.109">The review sites for experience goods may be viewed as a bridge between the knowledge gap of what people think they are buying and what they actually experience. </span><span
            class="clickable"
            id="130.896">Was it possible to identify a pill which was producing undesirable effects?</span><span
            class="clickable" id="161.093"><br/><span class="t">Example of review</span></span><span class="clickable"
                                                                                                     id="191.843">People put in a description of the field. </span><span
            class="clickable" id="198.716">There are two fields related to consumed and warning. </span><span
            class="clickable" id="232.918"><br/>Example: Yellow Instagram</span><span class="clickable"
                                                                                      id="266.919"><br/><span class="t">Outline</span></span><span
            class="clickable" id="274.919">Scraping the data</span><span class="clickable"
                                                                         id="278.927"><br/>Cleaning</span><span
            class="clickable" id="282.667"><br/>Data Exploration</span><span class="clickable" id="283.313"><br/>Classification</span><span
            class="clickable" id="287.322"><br/><span class="t">1. Scraping the data</span></span><span
            class="clickable" id="298.327">Use urllib2 and BeautifulSoup</span><span class="clickable"
                                                                                     id="318.076"><br/>The pillreports is a simple website</span><span
            class="clickable" id="332.077"><br/>I set up a database in mongodb. </span><span class="clickable"
                                                                                             id="405.572"><br/>Two collections in Mongo DB: reports and actual comments. </span><span
            class="clickable" id="422.288"><br/><span class="t">2. Cleaning the data</span></span><span
            class="clickable" id="429.044">Usual stuff. </span><span class="clickable" id="432.041">Rename columns, clean up dates, geocoding etc. </span><span
            class="clickable" id="473.539"><br/>langdetect is a python port of a Google Java library for language detection. </span><span
            class="clickable" id="554.042"><br/><span class="t">3. Visualization data exploration</span></span><span
            class="clickable" id="571.788">Doing visualization in Python was a steep learning curve for me. </span><span
            class="clickable" id="576.49">It takes a bit longer to get to the point where you want to visualize. </span><span
            class="clickable" id="638.001"><br/>What is the breakdown between number of reports with warning and those that didn't have any?</span><span
            class="clickable" id="688.326"><br/><span class="t">4a. Classification</span></span><span class="clickable"
                                                                                                      id="702.574">A very simple naive bayes model using the description field and warning label as target label. </span><span
            class="clickable"
            id="816.324"><br/>Visualize the top predictors based on their chi-square statistic</span><span
            class="clickable" id="891.744"><br/>Break down of chi scores</span><span class="clickable"
                                                                                     id="954.938"><br/>Stop words have a high chi score as they feature in phrases often. </span><span
            class="clickable" id="1013.186"><br/>A zoomed in plot gives insight into domain knowledge. </span><span
            class="clickable" id="1031.441">Some of the words associated with warning = yes are taste, sour etc. </span><span
            class="clickable" id="1107.666"><br/><span class="t">4b. PCA and clustering</span></span><span
            class="clickable" id="1118.168">See if there is any interesting stuff in the user report field. </span><span
            class="clickable" id="1151.652">I created a binary occurence vector representation of stemmed words and normalized it with tf-idf. </span><span
            class="clickable" id="1193.905">I created a scatter plot and checked for interesting patterns. </span><span
            class="clickable" id="1308.153"><br/>The last thing when looking at text data is the obligatory word cloud. </span><span
            class="clickable" id="1407.404"><br/><span class="t">Questions</span></span><span class="clickable"
                                                                                              id="1414.403"><span
            class="t">Were you able to make any suggestions about the provenance of these drugs?</span></span><span
            class="clickable" id="1452.405">When I started the project I was in the police force, but later I moved on to a different job but continued the project as a fun project. </span><span
            class="clickable" id="1494.655">You can maybe investigate the images and try and group them. </span><span
            class="clickable" id="1503.874"><br/><span class="t">Were you actually positing data from NLTK and pushing it into sklearn? How did you do it?</span></span><span
            class="clickable" id="1550.573">I didn't do any processing in NLTK.</span><span class="clickable"
                                                                                            id="1556.496"><br/><span
            class="t">Is it possible to use other features as predictors - size, shape, image, color?</span></span><span
            class="clickable"
            id="1570.03">In terms of classification, the presentation used the description. </span><span
            class="clickable" id="1605.531">When I fed more stuff it didn't have any impact. </span><span
            class="clickable" id="1632.779"><br/><span class="t">I have heard about scrapy. Why did you choose with urllib?</span></span><span
            class="clickable" id="1650.527">I am not familiar with scrapy. </span><br/><span
            style="font-size:xx-small;">Video outline created using <a href="http://www.videojots.com">VideoJots</a>. Click and drag lower right corner to resize video. On <a
            href="../ios_device.html">iOS devices</a> you cannot jump to video location by clicking on the outline. </span><br/></div></span>
    </div>
</div>
</body>
</html>